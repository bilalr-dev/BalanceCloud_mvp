# Environment Variables Configuration for Local Development
# 
# IMPORTANT: This file is for LOCAL DEVELOPMENT only
# GitHub Secrets are used automatically in CI/CD workflows
# 
# To set up:
# 1. Copy this file to .env: cp env.example .env
# 2. Fill in the values below (you can use the same values as your GitHub Secrets)
# 3. The .env file is gitignored and won't be committed

# ============================================================================
# PostgreSQL Credentials
# ============================================================================
# These should match your GitHub Secrets (or use different values for local dev)
# Get these values from: GitHub → Settings → Secrets and variables → Actions
POSTGRES_USER=balancecloud
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=balancecloud_mvp

# ============================================================================
# Database Connection URL
# ============================================================================
# For Docker Compose: uses service names (postgres, redis)
# For local without Docker: use localhost instead of postgres/redis
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ============================================================================
# Redis Configuration
# ============================================================================
# For Docker Compose: use service name 'redis'
# For local without Docker: use 'localhost'
REDIS_URL=redis://redis:6379/0

# ============================================================================
# Security Keys (REQUIRED)
# ============================================================================
# These should match your GitHub Secrets for consistency
# Get these values from: GitHub → Settings → Secrets and variables → Actions
# 
# Generate new secure keys with:
#   openssl rand -hex 32
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-key-here
ENCRYPTION_KEY=your-encryption-key-here

# ============================================================================
# OAuth - Google Drive (Optional, for cloud uploads)
# ============================================================================
# Get these from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID credentials
# 2. Add authorized redirect URIs:
#    - http://localhost:8000/api/auth/google/callback (backend callback)
#    - http://localhost:3000/oauth/callback (frontend callback, if needed)
#    - http://localhost:8000/api/cloud-accounts/callback/google_drive (alternative)
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=your-google-client-secret-here
GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# ============================================================================
# OAuth - Microsoft OneDrive (Optional, for cloud uploads)
# ============================================================================
# Get these from: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# 1. Register a new application
# 2. Add redirect URI:
#    - http://localhost:8000/api/cloud-accounts/callback/onedrive
MICROSOFT_CLIENT_ID=your-microsoft-client-id-here
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret-here
MICROSOFT_REDIRECT_URI=http://localhost:8000/api/cloud-accounts/callback/onedrive
MICROSOFT_TENANT_ID=common

# ============================================================================
# Application Settings
# ============================================================================
ENVIRONMENT=development
CORS_ORIGINS=http://localhost:5173
STORAGE_PATH=./storage

# ============================================================================
# Rate Limiting
# ============================================================================
# Set to false to disable rate limiting in development (recommended for local dev)
# Set to true for production to prevent abuse
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================================================
# Storage Configuration
# ============================================================================
# Default storage quota per user in bytes (default: 10 GB = 10737418240 bytes)
# To change: 1 GB = 1073741824, 5 GB = 5368709120, 20 GB = 21474836480, etc.
DEFAULT_STORAGE_QUOTA_BYTES=10737418240

# ============================================================================
# How to Get Values from GitHub Secrets
# ============================================================================
# 1. Go to: https://github.com/bilalr-dev/BalanceCloud_mvp/settings/secrets/actions
# 2. Copy each secret value
# 3. Paste it in the corresponding variable above
# 
# Note: You can use the same values as GitHub Secrets, or use different
#       values for local development (recommended for testing)
